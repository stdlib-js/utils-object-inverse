{"version":3,"file":"index.mjs","sources":["../lib/object_inverse.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport objectKeys from '@stdlib/utils-keys' ;\nimport isArray from '@stdlib/assert-is-array' ;\nimport isObject from '@stdlib/assert-is-plain-object' ;\nimport isObjectLike from '@stdlib/assert-is-object-like' ;\nimport { isPrimitive as isBoolean } from '@stdlib/assert-is-boolean' ;\nimport hasOwnProp from '@stdlib/assert-has-own-property' ;\nimport format from '@stdlib/error-tools-fmtprodmsg' ;\n\n\n// MAIN //\n\n/**\n* Inverts an object, such that keys become values and values become keys.\n*\n* @param {ObjectLike} obj - input object\n* @param {Options} [opts] - function options\n* @param {boolean} [opts.duplicates=true] - boolean indicating whether to store duplicate keys\n* @throws {TypeError} first argument must be object-like\n* @throws {TypeError} second argument must an an object\n* @throws {TypeError} must provide valid options\n* @returns {Object} inverted object\n*\n* @example\n* var out = invert({\n*     'a': 'beep',\n*     'b': 'boop'\n* });\n* // returns { 'beep': 'a', 'boop': 'b' }\n*\n* @example\n* var out = invert({\n*     'a': 'beep',\n*     'b': 'beep'\n* });\n* // returns { 'beep': [ 'a', 'b' ] }\n*\n* @example\n* var obj = {};\n* obj.a = 'beep';\n* obj.b = 'boop';\n* obj.c = 'beep'; // inserted after `a`\n*\n* var out = invert( obj, {\n*     'duplicates': false\n* });\n* // returns { 'beep': 'c', 'boop': 'b' }\n*/\nfunction invert( obj, opts ) {\n\tvar allowDupes = true;\n\tvar keys;\n\tvar len;\n\tvar key;\n\tvar val;\n\tvar out;\n\tvar v;\n\tvar i;\n\tif ( !isObjectLike( obj ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be an object (except null). Value: `%s`.', obj ) );\n\t}\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isObject( opts ) ) {\n\t\t\tthrow new TypeError( format( '0l12h', opts ) );\n\t\t}\n\t\tif ( hasOwnProp( opts, 'duplicates' ) ) {\n\t\t\tallowDupes = opts.duplicates;\n\t\t\tif ( !isBoolean( allowDupes ) ) {\n\t\t\t\tthrow new TypeError( format( '0l130', 'duplicates', allowDupes ) );\n\t\t\t}\n\t\t}\n\t}\n\tkeys = objectKeys( obj );\n\tlen = keys.length;\n\tout = {};\n\tif ( allowDupes ) {\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tkey = keys[ i ];\n\t\t\tval = obj[ key ];\n\t\t\tif ( !hasOwnProp( out, val ) ) {\n\t\t\t\tout[ val ] = key;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tv = out[ val ];\n\t\t\tif ( isArray( v ) ) {\n\t\t\t\tout[ val ].push( key );\n\t\t\t} else {\n\t\t\t\tout[ val ] = [ v, key ];\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tkey = keys[ i ];\n\t\t\tout[ obj[ key ] ] = key;\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nexport default invert;\n"],"names":["invert","obj","opts","keys","len","key","val","out","v","i","allowDupes","isObjectLike","TypeError","format","arguments","length","isObject","hasOwnProp","duplicates","isBoolean","objectKeys","isArray","push"],"mappings":";;6mBAqEA,SAASA,EAAQC,EAAKC,GACrB,IACIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAPAC,GAAa,EAQjB,IAAMC,EAAcV,GACnB,MAAM,IAAIW,UAAWC,EAAQ,iFAAkFZ,IAEhH,GAAKa,UAAUC,OAAS,EAAI,CAC3B,IAAMC,EAAUd,GACf,MAAM,IAAIU,UAAWC,EAAQ,QAASX,IAEvC,GAAKe,EAAYf,EAAM,gBACtBQ,EAAaR,EAAKgB,YACZC,EAAWT,IAChB,MAAM,IAAIE,UAAWC,EAAQ,QAAS,aAAcH,IAOvD,GAFAN,GADAD,EAAOiB,EAAYnB,IACRc,OACXR,EAAM,GACDG,EACJ,IAAMD,EAAI,EAAGA,EAAIL,EAAKK,IAErBH,EAAML,EADNI,EAAMF,EAAMM,IAENQ,EAAYV,EAAKD,IAIvBE,EAAID,EAAKD,GACJe,EAASb,GACbD,EAAKD,GAAMgB,KAAMjB,GAEjBE,EAAKD,GAAQ,CAAEE,EAAGH,IAPlBE,EAAKD,GAAQD,OAWf,IAAMI,EAAI,EAAGA,EAAIL,EAAKK,IAErBF,EAAKN,EADLI,EAAMF,EAAMM,KACQJ,EAGtB,OAAOE"}